function convertirAPHP(){const e=document.getElementById("js-input"),t=document.getElementById("php-output"),n=e.value.trim();if(!n)return swal({title:"No puedes dejar campos vacíos.",text:"Ingresa el código JavaScript.",icon:"warning",button:"OK"});try{let o=n,r=[{regex:/\b(let|const|var)\s+(\w+)/g,replace:"$$$2"},{regex:/(\([^\)]*\))\s*=>\s*{/g,replace:"function $1 {"},{regex:/function\s+(\w+)\s*\((.*?)\)\s*{/g,replace:"function $1($2) {"},{regex:/console\.log\s*\((.*?)\)/g,replace:"echo $1;"},{regex:/\bif\s*\((.*?)\)\s*{/g,replace:"if ($1) {"},{regex:/\belse\s*if\s*\((.*?)\)\s*{/g,replace:"elseif ($1) {"},{regex:/\belse\s*{/g,replace:"else {"},{regex:/for\s*\(\s*(let|var|const)\s*(\w+)\s*=\s*(\d+);\s*\2\s*<\s*(\d+);\s*\2\+\+\)\s*{/g,replace:"for ($2 = $3; $2 < $4; $2++) {"},{regex:/while\s*\((.*?)\)\s*{/g,replace:"while ($1) {"},{regex:/\bswitch\s*\((.*?)\)\s*{/g,replace:"switch ($1) {"},{regex:/\bcase\s+(.*?):/g,replace:"case $1:"},{regex:/\bbreak\s*;/g,replace:"break;"},{regex:/\bcontinue\s*;/g,replace:"continue;"}];r.forEach(({regex:e,replace:r})=>{o=o.replace(e,r)}),o=o.replace(/document\.getElementById\(['"](\w+)['"]\)\.addEventListener\(['"]click['"],\s*function\s*\(\)\s*{([\s\S]*?)}\);/g,(e,t,n)=>`if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['${t}'])) { ${n.trim()} }`),o=`<?php\n\n${o}\n\n?>`,t.innerText=o,swal({title:"Conversión correcta",text:"Tu código JS ha sido convertido a PHP.",icon:"success",button:"OK"})}catch(e){swal({title:"Error de conversión",text:`Error en la conversión: ${e.message}`,icon:"error",button:"OK"})}}function limpiarCampos(){const e=document.getElementById("js-input"),t=document.getElementById("php-output");e.value="",t.innerText=""}function copiarAlPortapapeles(){const e=document.getElementById("php-output");e.innerText?navigator.clipboard.writeText(e.innerText).then(()=>{swal({title:"Copiado correctamente",text:"El código PHP ha sido copiado al portapapeles.",icon:"success",button:"OK"})}).catch(t=>{swal({title:"Error al copiar",text:`Hubo un problema al copiar el código: ${t}`,icon:"error",button:"OK"})}):swal({title:"Nada que copiar",text:"No hay código PHP generado para copiar.",icon:"warning",button:"OK"})}
